<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>b_oncamera: Portfolio</title>
  <meta name="description" content="Photography Portfolio" />
  <!-- New minimalist font -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">
  <style>
    :root{
      /* lighter minimalist palette */
      --bg: #f6f6f5;        /* page background */
      --surface: #ffffff;   /* cards / panels */
      --muted: #6b7176;     /* secondary text */
      --text: #111217;      /* primary text */
      --accent-home: #6aa6ff;   /* home tab accent */
      --accent-portfolio: #4fbfa6; /* portfolio tab accent */
      --gap: 18px;
      --maxw: 1100px;
      --radius: 10px;
    }
    *{box-sizing:border-box}
    body{
      margin:0;
      font-family:"Inter",system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
      color:var(--text);
      background:var(--bg);
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
    }
    a{color:inherit}
    header{
      background:transparent;
      border-bottom:1px solid rgba(17,18,23,0.06);
      position:sticky; top:0; z-index:40;
    }
    .wrap{max-width:var(--maxw);margin:0 auto;padding:18px 20px;display:flex;align-items:center;justify-content:space-between;gap:12px}
    .nav{display:flex;align-items:center;gap:16px;width:100%;justify-content:space-between}
    .brand{display:flex;align-items:center;gap:12px}
    .brand img{height:34px;width:auto;display:block}
    nav ul{display:flex;gap:12px;list-style:none;padding:0;margin:0}
    nav button{
      background:none;border:0;color:var(--muted);padding:8px 12px;border-radius:8px;cursor:pointer;font-weight:600;
      transition:all .18s ease;
    }
    /* different accent colors for each tab when active */
    #tab-home.active{ color:var(--accent-home); background:rgba(106,166,255,0.08); }
    #tab-portfolio.active{ color:var(--accent-portfolio); background:rgba(79,191,166,0.06); }

    main{padding:30px 20px}
    .section{max-width:var(--maxw);margin:0 auto;padding:0 12px}

    /* Home: slideshow full width, about below centered */
    .slideshow{position:relative;border-radius:12px;overflow:hidden;background:var(--surface);border:1px solid rgba(17,18,23,0.06);box-shadow:0 6px 18px rgba(11,12,13,0.04)}
    .slide{width:100%;height:520px;display:flex;align-items:center;justify-content:center; background:#efefef}
    .slide img{width:100%;height:100%;object-fit:cover;display:block}
    .slideshow .controls{position:absolute;right:12px;top:12px;display:flex;gap:8px;z-index:3}
    .dot{width:10px;height:10px;border-radius:50%;background:rgba(17,18,23,0.12);cursor:pointer}
    .dot.active{box-shadow:0 0 0 4px rgba(17,18,23,0.03), inset 0 0 0 2px rgba(255,255,255,0.6)}

    /* About box below slideshow */
    .about{background:var(--surface);padding:20px;border-radius:12px;margin:18px auto 0;max-width:820px;border:1px solid rgba(17,18,23,0.04);box-shadow:0 6px 18px rgba(11,12,13,0.035)}
    .about-inner{display:flex;gap:18px;align-items:center}
    .avatar{width:100px;height:100px;border-radius:999px;overflow:hidden;flex:0 0 100px;border:1px solid rgba(17,18,23,0.06)}
    .avatar img{width:100%;height:100%;object-fit:cover}
    .about p{margin:0;color:var(--muted);line-height:1.9;font-size:15px}
    .about p + p{margin-top:12px} /* more space between sentences */

    /* Portfolio layout - 2x2 tile grid */
    .albums-grid{display:grid;grid-template-columns:repeat(2,1fr);gap:22px;max-width:980px;margin:0 auto}
    .album-card{background:var(--surface);padding:14px;border-radius:12px;border:1px solid rgba(17,18,23,0.04);cursor:pointer;box-shadow:0 8px 24px rgba(11,12,13,0.03)}
    .album-thumb{width:100%;height:260px;border-radius:10px;overflow:hidden;background:#f2f2f2}
    .album-thumb img{width:100%;height:100%;object-fit:cover;display:block}
    .album-title{display:flex;justify-content:space-between;align-items:center;margin-top:12px;font-weight:700}
    .album-count{color:var(--muted);font-size:13px;font-weight:600}

    /* Album page */
    .grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(200px,1fr));gap:12px}
    .grid img{width:100%;height:160px;object-fit:cover;border-radius:8px;cursor:pointer}

    /* Lightbox */
    .lightbox{position:fixed;inset:0;display:none;place-items:center;background:rgba(0,0,0,0.85);z-index:9999}
    .lightbox.visible{display:grid}
    .lightbox img{max-width:92%;max-height:86%}

    footer{padding:26px 0;text-align:center;color:var(--muted)}

    /* Responsive */
    @media (max-width:920px){
      .slide{height:360px}
      .albums-grid{grid-template-columns:repeat(2,1fr)}
      .about-inner{flex-direction:row}
    }
    @media (max-width:720px){
      .slide{height:280px}
      .albums-grid{grid-template-columns:1fr}
      .about-inner{flex-direction:row}
      .about{padding:14px}
      .avatar{width:80px;height:80px;flex:0 0 80px}
      .album-thumb{height:200px}
    }
  </style>
</head>
<body>
  <header>
    <div class="wrap">
      <div class="brand">
        <!-- logo.png should be uploaded into images/logo.png -->
        <img src="images/logo.png" alt="b_oncamera logo" onerror="this.style.display='none'">
        <div style="font-weight:700;letter-spacing:0.2px">b_oncamera</div>
      </div>

      <nav>
        <ul>
          <li><button id="tab-home" class="active">Home</button></li>
          <li><button id="tab-portfolio">Portfolio</button></li>
        </ul>
      </nav>
    </div>
  </header>

  <main>
    <div id="content" class="section"></div>
  </main>

  <div id="lightbox" class="lightbox" role="dialog" aria-hidden="true">
    <img id="lbimg" src="" alt="">
    <div id="lbcaption" style="color:#fff;margin-top:12px;text-align:center"></div>
  </div>

  <footer>b_oncamera</footer>

<script>
// Minimal SPA using albums.json
let albums = [];
async function loadAlbums(){
  try{
    const res = await fetch('albums.json');
    albums = await res.json();
  }catch(e){
    albums = [];
    console.error('Could not load albums.json', e);
  }
}

function el(tag, opts={}, ...kids){ const e = document.createElement(tag); Object.assign(e, opts); for(const k of kids) if(typeof k === 'string') e.appendChild(document.createTextNode(k)); else if(k) e.appendChild(k); return e; }

function randItem(arr){ return arr[Math.floor(Math.random()*arr.length)]; }

function showHome(){
  const content = document.getElementById('content'); content.innerHTML='';
  // slideshow full width
  const slideWrap = el('div',{className:'slideshow'});
  const slide = el('div',{className:'slide'});
  slideWrap.appendChild(slide);
  const controls = el('div',{className:'controls'});
  slideWrap.appendChild(controls);

  // choose one random image per album (if present)
  const covers = [];
  albums.forEach(a=>{ if(a.images && a.images.length) covers.push({album:a, item:randItem(a.images)}); });
  if(covers.length===0){
    slide.appendChild(el('div',{}, 'No photos yet.'));
  } else {
    let i=0;
    function render(){
      const imgSrc = `images/${covers[i].album.folder}/${covers[i].item.file}`;
      slide.innerHTML = '';
      const img = el('img',{src:imgSrc, alt:covers[i].item.caption||covers[i].item.file});
      slide.appendChild(img);
      // dots (no album names in slideshow per request)
      controls.innerHTML = '';
      covers.forEach((c,idx)=>{
        const d = el('div',{className:'dot' + (idx===i?' active':'' )});
        d.onclick = ()=>{ i=idx; render(); };
        controls.appendChild(d);
      });
    }
    render();
    // auto cycle
    let timer = setInterval(()=>{ i=(i+1)%covers.length; render(); },4800); // longer interval
    slideWrap.addEventListener('mouseenter', ()=>clearInterval(timer));
    slideWrap.addEventListener('mouseleave', ()=>{ timer = setInterval(()=>{ i=(i+1)%covers.length; render(); },4800); });
  }

  content.appendChild(slideWrap);

  // About below, centered
  const about = el('aside',{className:'about'});
  const ai = el('div',{className:'about-inner'});
  const avatar = el('div',{className:'avatar'});
  const avatarImg = el('img',{src:'images/profile.jpg',alt:'Profile'});
  avatar.appendChild(avatarImg);
  const txt = el('div',{});
  // single-line strings to avoid syntax issues; extra spacing between paragraphs achieved by CSS
  txt.appendChild(el('p',{}, 'Hi — I’m B. I shoot simple, honest photographs of places and people. I like light, quiet moments, and clean frames.'));
  txt.appendChild(el('p',{}, 'Minimal, careful images — tools: Canon EOS M200 with EF-M 15–45mm and EF-M 55–200mm.'));
  ai.appendChild(avatar); ai.appendChild(txt); about.appendChild(ai);
  content.appendChild(about);

  // set active tab highlight
  setActiveTab('home');
}

function showPortfolio(){
  const content = document.getElementById('content'); content.innerHTML='';
  const wrap = el('div',{});
  const grid = el('div',{className:'albums-grid'});
  // 2x2 tiles, larger
  albums.forEach(a=>{
    const card = el('div',{className:'album-card'});
    const thumb = el('div',{className:'album-thumb'});
    if(a.images && a.images.length){
      // use a random cover for the card
      const cover = randItem(a.images);
      const img = el('img',{src:`images/${a.folder}/${cover.file}`,alt:cover.caption||cover.file});
      thumb.appendChild(img);
    } else {
      thumb.appendChild(el('div',{}, 'No photos'));
    }
    const title = el('div',{className:'album-title'});
    title.appendChild(el('div',{}, a.title));
    title.appendChild(el('div',{className:'album-count'}, (a.images? a.images.length : 0) + ' photos'));
    card.appendChild(thumb); card.appendChild(title);
    card.onclick = ()=> showAlbum(a.folder);
    grid.appendChild(card);
  });
  wrap.appendChild(grid);
  content.appendChild(wrap);
  setActiveTab('portfolio');
}

function showAlbum(folder){
  const album = albums.find(a=>a.folder===folder);
  const content = document.getElementById('content'); content.innerHTML='';
  const back = el('button',{}, '← Back'); back.style.marginBottom='12px'; back.onclick = ()=>{ setActiveTab('portfolio'); showPortfolio(); };
  content.appendChild(back);
  content.appendChild(el('h2',{}, album.title));
  const g = el('div',{className:'grid'});
  album.images.forEach((img,ii)=>{
    const im = el('img',{src:`images/${album.folder}/${img.file}`,alt:img.caption||img.file});
    im.dataset.album=album.folder; im.dataset.index=ii;
    im.addEventListener('click', ()=>openLightbox(album.folder, ii));
    g.appendChild(im);
  });
  content.appendChild(g);
}

function openLightbox(folder, index){
  const album = albums.find(a=>a.folder===folder);
  const item = album.images[index];
  const lb = document.getElementById('lightbox'); const lbimg = document.getElementById('lbimg'); const lbcap = document.getElementById('lbcaption');
  lbimg.src = `images/${folder}/${item.file}`; lbcap.textContent = item.caption||''; lb.classList.add('visible'); lb.setAttribute('aria-hidden','false');
}
function closeLightbox(){ const lb = document.getElementById('lightbox'); lb.classList.remove('visible'); lb.setAttribute('aria-hidden','true'); }

document.getElementById('lightbox').addEventListener('click', closeLightbox);

function setActiveTab(id){
  document.querySelectorAll('nav button').forEach(b=>b.classList.remove('active'));
  document.getElementById('tab-home').classList.toggle('active', id==='home');
  document.getElementById('tab-portfolio').classList.toggle('active', id==='portfolio');
}

async function init(){
  await loadAlbums();
  // wire tabs
  document.getElementById('tab-home').addEventListener('click', ()=>{ setActiveTab('home'); showHome(); history.pushState({},'', '#home'); });
  document.getElementById('tab-portfolio').addEventListener('click', ()=>{ setActiveTab('portfolio'); showPortfolio(); history.pushState({},'', '#portfolio'); });

  const hash = location.hash.replace('#','');
  if(hash && hash.startsWith('album/')){ const folder = hash.split('/')[1]; setActiveTab('portfolio'); showAlbum(folder); }
  else if(hash==='portfolio'){ setActiveTab('portfolio'); showPortfolio(); } else { setActiveTab('home'); showHome(); }
}

init();
</script>
</body>
</html>
